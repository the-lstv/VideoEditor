<!--
    A fully modular, customizeable, hackable and open-source rich video editor with hardware acceleration and shaders.
    Copyright (C) 2025 lstv.space
-->

<head>
    <!-- Preload styles -->
    <style>
        :root, body {
            overflow: hidden;
            width: 100vw;
            height: 100vh;
            height: 100dvh;
            background: var(--surface-n2) !important;
            user-select: none;
        }

        #logo {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(calc(-50% + 92px), calc(-50% + 10px));
            offset-path: path('M8.24713 23.3995C8.24713 23.3995 42.001 -13.0019 104.001 40.9985C166.001 94.9989 238 404 238 404');
            offset-distance: 0%;
            offset-rotate: 0deg;
            z-index: 90000000005; /* Above everything */
            pointer-events: none;
        }

        #app-loading {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.5rem;
            color: var(--ls-text-secondary);
        }

        .loader {
            width: 50px;
            aspect-ratio: 1;
            border-radius: 50%;
            border: 8px solid;
            border-color: currentColor #0000;
            animation: l1 1s infinite;
        }

        @keyframes l1 {to{transform: rotate(.5turn)}}
    </style>

    <!-- PixiJS and filters -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/8.13.2/pixi.min.js" integrity="sha512-rOMqai9NIPaFWpmvHUjdOa2dSuaaYo6i7E19jS1ZW9rjnrl4qAOOtsOeTk0QgIflFCe2ZYi/7or3CRF6VfBk9g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/8.13.2/packages/advanced-blend-modes.min.js" integrity="sha512-jAkKvxtcrrqJ+gUTZXNV4oD9h5sl2297SjKx8zys1qjsJ5Ycem1+PFKHsLr80nEHVJLZbySxzMnBp/1JsuaIEw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/pixi-filters@6.1.5/dist/pixi-filters.min.js"></script>

    @use (ls:5.2.7[flat, gl, node, resize, dragdrop, timeline, tooltips, toast, reactive, tabs, animation, modal], bootstrap-icons, google-fonts[Poppins, "Ubuntu Mono"]);

    <!-- Base classes (core utilities) -->
    @use (/assets/js/base.js[defer]);

    <!-- Views (panels and components) -->
    @use (/assets/js/views.js[defer]);

    <!-- Third-party libraries -->
    @use (/assets/js/xxhash.js[defer]);

    <!-- Main (initialization & core management) -->
    @use (/assets/js/main.js[defer]);

    @use (/assets/css/main.css);
    @use (/assets/css/timeline.css);

    <!-- Manifest -->
    @page {
        title: "Video Editor";
        font: "Ubuntu Mono, monospace";
        favicon: "/favicon.svg";
    }
</head>

<body ls ls-style="flat" ls-theme="dark" ls-accent="white">
    <img #logo width="200px" src="assets/images/icon.svg" alt="Video Editor Icon">

    <div #app-loading>
        <div .loader style="margin-top: 150px;"></div>
    </div>

    <main #editor-container style="display: none">
        <div #editor-header></div>
        <div #layout-container></div>
        <div #editor-footer></div>
    </main>
</body>